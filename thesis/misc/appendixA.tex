\chapter{Abstract Syntax Trees from Evaluation}
\label{appendixA}

\section{Entire Psnodig AST from Binary search implementation.}
\label{appendix:Entire Psnodig AST from Binary search implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A list A and an integer x" "True if x $\\in$ A and false if not"))
  []
  [ FunctionDecl
      "BinarySearch"
      [ Argument "A" "list",
        Argument "x" "int"
      ]
      [ Assignment
          (VariableTarget "low")
          ( ExpressionValue
              (Constant (Number 0))
          ),
        Assignment
          (VariableTarget "high")
          ( ExpressionValue
              ( BinaryExp
                  Minus
                  ( CallExp
                      ( FunctionCall
                          "length"
                          [VariableExp "A"]
                      )
                  )
                  (Constant (Number 1))
              )
          ),
        Loop
          ( BinaryExp
              LessThanEqual
              (VariableExp "low")
              (VariableExp "high")
          )
          [ Assignment
              (VariableTarget "i")
              ( ExpressionValue
                  ( CallExp
                      ( FunctionCall
                          "floor"
                          [ BinaryExp
                              Division
                              ( BinaryExp
                                  Plus
                                  (VariableExp "low")
                                  (VariableExp "high")
                              )
                              (Constant (Number 2))
                          ]
                      )
                  )
              ),
            If
              ( BinaryExp
                  Equal
                  ( ListIndex
                      "A"
                      [VariableExp "i"]
                  )
                  (VariableExp "x")
              )
              [ Return
                  (Constant (Boolean True))
              ]
              ( Just
                  ( ElseIf
                      ( BinaryExp
                          GreaterThan
                          (ListIndex "A" [VariableExp "i"])
                          (VariableExp "x")
                      )
                      [ Assignment
                          (VariableTarget "high")
                          ( ExpressionValue
                              ( BinaryExp
                                  Minus
                                  (VariableExp "i")
                                  (Constant (Number 1))
                              )
                          )
                      ]
                      ( Just
                          ( Else
                              [ Assignment
                                  (VariableTarget "low")
                                  ( ExpressionValue
                                      ( BinaryExp
                                          Plus
                                          (VariableExp "i")
                                          (Constant (Number 1))
                                      )
                                  )
                              ]
                          )
                      )
                  )
              )
          ],
        Return
          ( Constant
              (Boolean False)
          )
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from FindMax implementation.}
\label{appendix:Entire Psnodig AST from FindMax implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription
    "A binary search tree $t$"
    "The node with the largest value in $t$"))
  [ StructDecl
      "Tree"
      [Argument "value" "int", Argument "left" "Tree", Argument "right" "Tree"]
  ]
  [ FunctionDecl
      "FindMax"
      [Argument "t" "Tree"]
      [ If
          ( BinaryExp
              Equal
              (VariableExp "t")
              (Constant Nil)
          )
          [Return (Constant Nil)]
          Nothing,
        If
          ( BinaryExp
              Equal
              ( StructFieldExp
                  ( StructField
                      (VariableExp "t")
                      (VariableExp "right")
                  )
              )
              (Constant Nil)
          )
          [Return (VariableExp "t")]
          Nothing,
        Return
          ( CallExp
              ( FunctionCall
                  "FindMax"
                  [ StructFieldExp
                      ( StructField
                          (VariableExp "t")
                          (VariableExp "right")
                      )
                  ]
              )
          )
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from Insert implementation.}
\label{appendix:Entire Psnodig AST from Insert implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A binary search tree $t$ and an integer $val$" "$t$ with a node of value $val$"))
  [ StructDecl
      "Tree"
      [ Argument "value" "int",
        Argument "left" "Tree",
        Argument "right" "Tree"
      ]
  ]
  [ FunctionDecl
      "Insert"
      [ Argument "t" "Tree",
        Argument "val" "int"
      ]
      [ If
          ( BinaryExp
              Equal
              (VariableExp "t")
              (Constant Nil)
          )
          [ Assignment
              (VariableTarget "t")
              ( StructValue
                  ( Struct
                      "Tree"
                      [ VariableExp "val",
                        Constant Nil,
                        Constant Nil
                      ]
                  )
              )
          ]
          ( Just
              ( ElseIf
                  ( BinaryExp
                      LessThan
                      (VariableExp "val")
                      ( StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "value")
                          )
                      )
                  )
                  [ Assignment
                      ( StructFieldTarget
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "left")
                          )
                      )
                      ( ExpressionValue
                          ( CallExp
                              ( FunctionCall
                                  "Insert"
                                  [ StructFieldExp
                                      ( StructField
                                          (VariableExp "t")
                                          (VariableExp "left")
                                      ),
                                    VariableExp "val"
                                  ]
                              )
                          )
                      )
                  ]
                  ( Just
                      ( ElseIf
                          ( BinaryExp
                              GreaterThan
                              (VariableExp "val")
                              ( StructFieldExp
                                  ( StructField
                                      (VariableExp "t")
                                      (VariableExp "value")
                                  )
                              )
                          )
                          [ Assignment
                              ( StructFieldTarget
                                  ( StructField
                                      (VariableExp "t")
                                      (VariableExp "right")
                                  )
                              )
                              ( ExpressionValue
                                  ( CallExp
                                      ( FunctionCall
                                          "Insert"
                                          [ StructFieldExp
                                              ( StructField
                                                  (VariableExp "t")
                                                  (VariableExp "right")
                                              ),
                                            VariableExp "val"
                                          ]
                                      )
                                  )
                              )
                          ]
                          Nothing
                      )
                  )
              )
          ),
        Return (VariableExp "t")
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from Remove implementation.}
\label{appendix:Entire Psnodig AST from Remove implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A binary search tree $t$ and an integer $val$" "$t$ without a node of value $val$"))
  [ StructDecl
      "Tree"
      [ Argument "value" "int",
        Argument "left" "Tree",
        Argument "right" "Tree"
      ]
  ]
  [ FunctionDecl
      "Remove"
      [ Argument "t" "Tree",
        Argument "val" "int"
      ]
      [ If
          ( BinaryExp
              Equal
              (VariableExp "t")
              (Constant Nil)
          )
          [Return (Constant Nil)]
          ( Just
              ( ElseIf
                  ( BinaryExp
                      LessThan
                      ( StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "value")
                          )
                      )
                      (VariableExp "val")
                  )
                  [ Assignment
                      ( StructFieldTarget
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "right")
                          )
                      )
                      ( ExpressionValue
                          ( CallExp
                              ( FunctionCall
                                  "Remove"
                                  [ StructFieldExp
                                      ( StructField
                                          (VariableExp "t")
                                          (VariableExp "right")
                                      ),
                                    VariableExp "val"
                                  ]
                              )
                          )
                      ),
                    Return (VariableExp "t")
                  ]
                  ( Just
                      ( ElseIf
                          ( BinaryExp
                              GreaterThan
                              ( StructFieldExp
                                  ( StructField
                                      (VariableExp "t")
                                      (VariableExp "value")
                                  )
                              )
                              (VariableExp "val")
                          )
                          [ Assignment
                              ( StructFieldTarget
                                  ( StructField
                                      (VariableExp "t")
                                      (VariableExp "left")
                                  )
                              )
                              ( ExpressionValue
                                  ( CallExp
                                      ( FunctionCall
                                          "Remove"
                                          [ StructFieldExp
                                              ( StructField
                                                  (VariableExp "t")
                                                  (VariableExp "left")
                                              ),
                                            VariableExp "val"
                                          ]
                                      )
                                  )
                              ),
                            Return (VariableExp "t")
                          ]
                          Nothing
                      )
                  )
              )
          ),
        If
          ( BinaryExp
              Equal
              ( StructFieldExp
                  ( StructField
                      (VariableExp "t")
                      (VariableExp "left")
                  )
              )
              (Constant Nil)
          )
          [ Return
              ( StructFieldExp
                  ( StructField
                      (VariableExp "t")
                      (VariableExp "right")
                  )
              )
          ]
          ( Just
              ( ElseIf
                  ( BinaryExp
                      Equal
                      ( StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "right")
                          )
                      )
                      (Constant Nil)
                  )
                  [ Return
                      ( StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "left")
                          )
                      )
                  ]
                  Nothing
              )
          ),
        Assignment
          (VariableTarget "t'")
          ( ExpressionValue
              ( CallExp
                  ( FunctionCall
                      "FindMax"
                      [ StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "left")
                          )
                      ]
                  )
              )
          ),
        Assignment
          ( StructFieldTarget
              ( StructField
                  (VariableExp "t")
                  (VariableExp "value")
              )
          )
          ( ExpressionValue
              ( StructFieldExp
                  ( StructField
                      (VariableExp "t'")
                      (VariableExp "value")
                  )
              )
          ),
        Assignment
          ( StructFieldTarget
              ( StructField
                  (VariableExp "t")
                  (VariableExp "left")
              )
          )
          ( ExpressionValue
              ( CallExp
                  ( FunctionCall
                      "Remove"
                      [ StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "left")
                          ),
                        StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "value")
                          )
                      ]
                  )
              )
          ),
        Return (VariableExp "t")
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from Search implementation.}
\label{appendix:Entire Psnodig AST from Search implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A binary search tree $t$ and an integer $val$" "True if $val \\in t$ and False if not"))
  [ StructDecl
      "Tree"
      [ Argument "value" "int",
        Argument "left" "Tree",
        Argument "right" "Tree"
      ]
  ]
  [ FunctionDecl
      "Search"
      [ Argument "t" "Tree",
        Argument "val" "int"
      ]
      [ If
          ( BinaryExp
              Equal
              (VariableExp "t")
              (Constant Nil)
          )
          [ Return
              ( Constant
                  (Boolean False)
              )
          ]
          ( Just
              ( ElseIf
                  ( BinaryExp
                      Equal
                      ( StructFieldExp
                          ( StructField
                              (VariableExp "t")
                              (VariableExp "value")
                          )
                      )
                      (VariableExp "val")
                  )
                  [Return (Constant (Boolean True))]
                  ( Just
                      ( ElseIf
                          ( BinaryExp
                              LessThan
                              ( StructFieldExp
                                  ( StructField
                                      (VariableExp "t")
                                      (VariableExp "value")
                                  )
                              )
                              (VariableExp "val")
                          )
                          [ Return
                              ( CallExp
                                  ( FunctionCall
                                      "Search"
                                      [ StructFieldExp
                                          ( StructField
                                              (VariableExp "t")
                                              (VariableExp "right")
                                          ),
                                        VariableExp "val"
                                      ]
                                  )
                              )
                          ]
                          ( Just
                              ( ElseIf
                                  ( BinaryExp
                                      GreaterThan
                                      ( StructFieldExp
                                          ( StructField
                                              (VariableExp "t")
                                              (VariableExp "value")
                                          )
                                      )
                                      (VariableExp "val")
                                  )
                                  [ Return
                                      ( CallExp
                                          ( FunctionCall
                                              "Search"
                                              [ StructFieldExp
                                                  ( StructField
                                                      (VariableExp "t")
                                                      (VariableExp "left")
                                                  ),
                                                VariableExp "val"
                                              ]
                                          )
                                      )
                                  ]
                                  Nothing
                              )
                          )
                      )
                  )
              )
          )
      ]
  ]
  Nothing
\end{lstlisting}


\section{Entire Psnodig AST from Bubble sort implementation.}
\label{appendix:Entire Psnodig AST from Bubble sort implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A list of integers $A$ with $n$ elements" "$A$ ordered from smallest to largest"))
  []
  [ FunctionDecl
      "BubbleSort"
      [Argument "A" "list"]
      [ HashStmt
          ( Assignment
              (VariableTarget "n")
              ( ExpressionValue
                  ( CallExp
                      ( FunctionCall
                          "length"
                          [VariableExp "A"]
                      )
                  )
              )
          ),
        If
          ( BinaryExp
              LessThan
              (VariableExp "n")
              (Constant (Number 2))
          )
          [Return (VariableExp "A")]
          Nothing,
        For
          "i"
          (Constant (Number 0))
          ( BinaryExp
              Minus
              (VariableExp "n")
              (Constant (Number 2))
          )
          [ For
              "j"
              (Constant (Number 0))
              ( BinaryExp
                  Minus
                  ( BinaryExp
                      Minus
                      (VariableExp "n")
                      (VariableExp "i")
                  )
                  (Constant (Number 2))
              )
              [ If
                  ( BinaryExp
                      GreaterThan
                      (ListIndex "A" [VariableExp "j"])
                      ( ListIndex
                          "A"
                          [ BinaryExp
                              Plus
                              (VariableExp "j")
                              (Constant (Number 1))
                          ]
                      )
                  )
                  [ AnnotationStmt
                      "swap A[j] with A[j+1]"
                      [ Assignment
                          (VariableTarget "tmp")
                          ( ExpressionValue
                              ( ListIndex
                                  "A"
                                  [VariableExp "j"]
                              )
                          ),
                        Assignment
                          ( ListIndexTarget
                              "A"
                              [VariableExp "j"]
                          )
                          ( ExpressionValue
                              ( ListIndex
                                  "A"
                                  [ BinaryExp
                                      Plus
                                      (VariableExp "j")
                                      (Constant (Number 1))
                                  ]
                              )
                          ),
                        Assignment
                          ( ListIndexTarget
                              "A"
                              [ BinaryExp
                                  Plus
                                  (VariableExp "j")
                                  ( Constant
                                      (Number 1)
                                  )
                              ]
                          )
                          ( ExpressionValue
                              (VariableExp "tmp")
                          )
                      ]
                  ]
                  Nothing
              ]
          ],
        Return (VariableExp "A")
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from Quicksort implementation.}
\label{appendix:Entire Psnodig AST from Quicksort implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A list of integers $A$ and two indexes low and high" "$A$ ordered from smallest to largest"))
  []
  [ FunctionDecl
      "QuickSort"
      [ Argument "A" "list",
        Argument "low" "int",
        Argument "high" "int"
      ]
      [ If
          ( BinaryExp
              GreaterThanEqual
              (VariableExp "low")
              (VariableExp "high")
          )
          [ Return
              (VariableExp "A")
          ]
          Nothing,
        Assignment
          (VariableTarget "A")
          ( ExpressionValue
              ( CallExp
                  ( FunctionCall
                      "Partition"
                      [ VariableExp "A",
                        VariableExp "low",
                        VariableExp "high"
                      ]
                  )
              )
          ),
        AnnotationStmt
          "p $\\gets$ PivotIndex()"
          [ Assignment
              (VariableTarget "p")
              (ExpressionValue (VariableExp "low")),
            For
              "i"
              (VariableExp "low")
              (VariableExp "high")
              [ If
                  ( BinaryExp
                      Equal
                      (ListIndex "A" [VariableExp "i"])
                      (ListIndex "A" [VariableExp "p"])
                  )
                  [ Assignment
                      (VariableTarget "p")
                      (ExpressionValue (VariableExp "i"))
                  ]
                  Nothing
              ]
          ],
        Assignment
          (VariableTarget "A")
          ( ExpressionValue
              ( CallExp
                  ( FunctionCall
                      "QuickSort"
                      [ VariableExp "A",
                        VariableExp "low",
                        BinaryExp
                          Minus
                          (VariableExp "p")
                          (Constant (Number 1))
                      ]
                  )
              )
          ),
        Assignment
          (VariableTarget "A")
          ( ExpressionValue
              ( CallExp
                  ( FunctionCall
                      "QuickSort"
                      [ VariableExp "A",
                        BinaryExp
                          Plus
                          (VariableExp "p")
                          (Constant (Number 1)),
                        VariableExp "high"
                      ]
                  )
              )
          ),
        Return (VariableExp "A")
      ],
    FunctionDecl
      "Partition"
      [ Argument "A" "list",
        Argument "low" "int",
        Argument "high" "int"
      ]
      [ AnnotationStmt
          "p := ChoosePivot(A, low, high)"
          [ Assignment
              (VariableTarget "p")
              ( ExpressionValue
                  ( BinaryExp
                      Division
                      ( BinaryExp
                          Plus
                          (VariableExp "low")
                          (VariableExp "high")
                      )
                      (Constant (Number 2))
                  )
              )
          ],
        AnnotationStmt
          "swap A[p] with A[high]"
          [ Assignment
              (VariableTarget "tmp")
              ( ExpressionValue
                  ( ListIndex
                      "A"
                      [VariableExp "p"]
                  )
              ),
            Assignment
              ( ListIndexTarget
                  "A"
                  [VariableExp "p"]
              )
              ( ExpressionValue
                  (ListIndex "A" [VariableExp "high"])
              ),
            Assignment
              ( ListIndexTarget
                  "A"
                  [VariableExp "high"]
              )
              ( ExpressionValue
                  (VariableExp "tmp")
              )
          ],
        Assignment
          (VariableTarget "pivot")
          ( ExpressionValue
              ( ListIndex
                  "A"
                  [VariableExp "high"]
              )
          ),
        Assignment
          (VariableTarget "left")
          ( ExpressionValue
              (VariableExp "low")
          ),
        Assignment
          (VariableTarget "right")
          ( ExpressionValue
              ( BinaryExp
                  Minus
                  (VariableExp "high")
                  (Constant (Number 1))
              )
          ),
        Loop
          ( BinaryExp
              LessThanEqual
              (VariableExp "left")
              (VariableExp "right")
          )
          [ Loop
              ( BinaryExp
                  And
                  ( BinaryExp
                      LessThanEqual
                      (VariableExp "left")
                      (VariableExp "right")
                  )
                  ( BinaryExp
                      LessThanEqual
                      (ListIndex "A" [VariableExp "left"])
                      (VariableExp "pivot")
                  )
              )
              [ Assignment
                  (VariableTarget "left")
                  ( ExpressionValue
                      ( BinaryExp
                          Plus
                          (VariableExp "left")
                          ( Constant
                              (Number 1)
                          )
                      )
                  )
              ],
            Loop
              ( BinaryExp
                  And
                  ( BinaryExp
                      GreaterThanEqual
                      (VariableExp "right")
                      (VariableExp "left")
                  )
                  ( BinaryExp
                      GreaterThanEqual
                      ( ListIndex
                          "A"
                          [VariableExp "right"]
                      )
                      (VariableExp "pivot")
                  )
              )
              [ Assignment
                  (VariableTarget "right")
                  ( ExpressionValue
                      ( BinaryExp
                          Minus
                          (VariableExp "right")
                          (Constant (Number 1))
                      )
                  )
              ],
            If
              ( BinaryExp
                  LessThan
                  (VariableExp "left")
                  (VariableExp "right")
              )
              [ AnnotationStmt
                  "swap A[left] and A[right]"
                  [ Assignment
                      (VariableTarget "tmp")
                      ( ExpressionValue
                          ( ListIndex
                              "A"
                              [VariableExp "left"]
                          )
                      ),
                    Assignment
                      ( ListIndexTarget
                          "A"
                          [VariableExp "left"]
                      )
                      ( ExpressionValue
                          ( ListIndex
                              "A"
                              [VariableExp "right"]
                          )
                      ),
                    Assignment
                      ( ListIndexTarget
                          "A"
                          [VariableExp "right"]
                      )
                      ( ExpressionValue
                          (VariableExp "tmp")
                      )
                  ]
              ]
              Nothing
          ],
        AnnotationStmt
          "swap A[left] and A[high]"
          [ Assignment
              (VariableTarget "tmp")
              ( ExpressionValue
                  ( ListIndex
                      "A"
                      [VariableExp "left"]
                  )
              ),
            Assignment
              ( ListIndexTarget
                  "A"
                  [VariableExp "left"]
              )
              ( ExpressionValue
                  (ListIndex "A" [VariableExp "high"])
              ),
            Assignment
              ( ListIndexTarget
                  "A"
                  [ VariableExp
                      "high"
                  ]
              )
              ( ExpressionValue
                  (VariableExp "tmp")
              )
          ],
        Return (VariableExp "A")
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from Bucket sort implementation.}
\label{appendix:Entire Psnodig AST from Bucket sort implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A list of integers $A$ with $n$ elements" "$A$ ordered from smallest to largest"))
  []
  [ FunctionDecl
      "BucketSort"
      [Argument "A" "list"]
      [ HashStmt
          ( Assignment
              (VariableTarget "N")
              ( ExpressionValue
                  ( CallExp
                      (FunctionCall "length" [VariableExp "A"])
                  )
              )
          ),
        HashStmt
          ( Assignment
              (VariableTarget "n")
              ( ExpressionValue
                  ( CallExp
                      ( FunctionCall
                          "length"
                          [VariableExp "A"]
                      )
                  )
              )
          ),
        If
          ( BinaryExp
              LessThan
              (VariableExp "n")
              (Constant (Number 2))
          )
          [Return (VariableExp "A")]
          Nothing,
        AnnotationStmt
          "B $\\gets$ Array of N empty lists"
          [ Assignment
              (VariableTarget "B")
              ( ExpressionValue
                  ( Constant
                      (List [])
                  )
              ),
            For
              "i"
              (Constant (Number 0))
              (VariableExp "N")
              [ CallStmt
                  ( FunctionCall
                      "append"
                      [ Constant (List []),
                        VariableExp "B"
                      ]
                  )
              ]
          ],
        For
          "i"
          (Constant (Number 0))
          ( BinaryExp
              Minus
              (VariableExp "n")
              (Constant (Number 1))
          )
          [ AnnotationStmt
              "associate k with A[i]"
              [ Assignment
                  (VariableTarget "k")
                  ( ExpressionValue
                      ( CallExp
                          ( FunctionCall
                              "floor"
                              [ BinaryExp
                                  Division
                                  (ListIndex "A" [VariableExp "i"])
                                  (Constant (Number 10))
                              ]
                          )
                      )
                  )
              ],
            CallStmt
              ( FunctionCall
                  "append"
                  [ ListIndex "A" [VariableExp "i"],
                    ListIndex "B" [VariableExp "k"]
                  ]
              )
          ],
        For
          "i"
          (Constant (Number 0))
          ( BinaryExp
              Minus
              ( CallExp
                  ( FunctionCall
                      "length"
                      [VariableExp "B"]
                  )
              )
              (Constant (Number 1))
          )
          [ Assignment
              ( ListIndexTarget
                  "B"
                  [VariableExp "i"]
              )
              ( ExpressionValue
                  ( CallExp
                      ( FunctionCall
                          "BubbleSort"
                          [ ListIndex
                              "B"
                              [VariableExp "i"]
                          ]
                      )
                  )
              )
          ],
        Assignment
          (VariableTarget "j")
          (ExpressionValue (Constant (Number 0))),
        For
          "k"
          (Constant (Number 0))
          (VariableExp "N")
          [ ForEach
              "x"
              ( ListIndex
                  "B"
                  [VariableExp "k"]
              )
              [ Assignment
                  (ListIndexTarget "A" [VariableExp "j"])
                  (ExpressionValue (VariableExp "x")),
                Assignment
                  (VariableTarget "j")
                  ( ExpressionValue
                      ( BinaryExp
                          Plus
                          (VariableExp "j")
                          (Constant (Number 1))
                      )
                  )
              ]
          ],
        Return (VariableExp "A")
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from BFS implementation.}
\label{appendix:Entire Psnodig AST from BFS implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A set of visited nodes, a queue of nodes, a graph and a starting node" "The list of booleans"))
  [ StructDecl
      "Queue"
      [ Argument "q" "list",
        Argument "head" "int"
      ]
  ]
  [ FunctionDecl
      "bfs"
      [ Argument
          "visited"
          "set'",
        Argument "queue" "Queue",
        Argument "graph" "list",
        Argument "node" "int"
      ]
      [ CallStmt
          ( FunctionCall
              "add"
              [ VariableExp "node",
                VariableExp "visited"
              ]
          ),
        CallStmt
          ( FunctionCall
              "append"
              [ VariableExp "node",
                StructFieldExp
                  ( StructField
                      (VariableExp "queue")
                      (VariableExp "q")
                  )
              ]
          ),
        Loop
          ( BinaryExp
              LessThan
              ( StructFieldExp
                  ( StructField
                      (VariableExp "queue")
                      (VariableExp "head")
                  )
              )
              ( CallExp
                  ( FunctionCall
                      "length"
                      [ StructFieldExp
                          ( StructField
                              (VariableExp "queue")
                              (VariableExp "q")
                          )
                      ]
                  )
              )
          )
          [ AnnotationStmt
              "m $\\gets$ shift(queue)"
              [ Assignment
                  (VariableTarget "tmp")
                  ( ExpressionValue
                      ( CallExp
                          ( FunctionCall
                              "shift"
                              [VariableExp "queue"]
                          )
                      )
                  ),
                Assignment
                  (VariableTarget "queue")
                  ( ExpressionValue
                      ( ListIndex
                          "tmp"
                          [Constant (Number 0)]
                      )
                  ),
                Assignment
                  (VariableTarget "m")
                  ( ExpressionValue
                      ( ListIndex
                          "tmp"
                          [Constant (Number 1)]
                      )
                  )
              ],
            ForEach
              "nb"
              ( CallExp
                  ( FunctionCall
                      "get"
                      [ VariableExp "m",
                        VariableExp "graph"
                      ]
                  )
              )
              [ If
                  ( Not
                      ( CallExp
                          ( FunctionCall
                              "in"
                              [ VariableExp "nb",
                                VariableExp "visited"
                              ]
                          )
                      )
                  )
                  [ CallStmt
                      ( FunctionCall
                          "add"
                          [ VariableExp "nb",
                            VariableExp "visited"
                          ]
                      ),
                    CallStmt
                      ( FunctionCall
                          "append"
                          [ VariableExp "nb",
                            StructFieldExp
                              ( StructField
                                  (VariableExp "queue")
                                  (VariableExp "q")
                              )
                          ]
                      )
                  ]
                  Nothing
              ]
          ],
        Return
          (VariableExp "visited")
      ],
    FunctionDecl
      "shift"
      [Argument "q" "Queue"]
      [ Assignment
          (VariableTarget "val")
          ( ExpressionValue
              ( StructFieldExp
                  ( StructField
                      (VariableExp "q")
                      ( ListIndex
                          "q"
                          [ StructFieldExp
                              ( StructField
                                  (VariableExp "q")
                                  ( VariableExp
                                      "head"
                                  )
                              )
                          ]
                      )
                  )
              )
          ),
        Assignment
          ( StructFieldTarget
              ( StructField
                  (VariableExp "q")
                  (VariableExp "head")
              )
          )
          ( ExpressionValue
              ( BinaryExp
                  Plus
                  ( StructFieldExp
                      ( StructField
                          (VariableExp "q")
                          (VariableExp "head")
                      )
                  )
                  (Constant (Number 1))
              )
          ),
        Return
          ( Constant
              ( List
                  [ VariableExp "q",
                    VariableExp "val"
                  ]
              )
          )
      ]
  ]
  Nothing
\end{lstlisting}

\section{Entire Psnodig AST from DFS implementation.}
\label{appendix:Entire Psnodig AST from DFS implementation.}

\begin{lstlisting}
Program
  (Just (ProgramDescription "A set of visited nodes, a stack of nodes, a graph and a starting node" "The list of booleans"))
  []
  [ FunctionDecl
      "dfs"
      [ Argument "visited" "set'",
        Argument "stack" "list",
        Argument "graph" "list",
        Argument "node" "int"
      ]
      [ CallStmt
          ( FunctionCall
              "add"
              [ VariableExp "node",
                VariableExp "visited"
              ]
          ),
        CallStmt
          ( FunctionCall
              "append"
              [ VariableExp "node",
                VariableExp "stack"
              ]
          ),
        Loop
          ( BinaryExp
              GreaterThan
              ( CallExp
                  ( FunctionCall
                      "length"
                      [VariableExp "stack"]
                  )
              )
              (Constant (Number 0))
          )
          [ Assignment
              (VariableTarget "m")
              ( ExpressionValue
                  ( CallExp
                      ( FunctionCall
                          "pop"
                          [VariableExp "stack"]
                      )
                  )
              ),
            ForEach
              "nb"
              ( CallExp
                  ( FunctionCall
                      "get"
                      [ VariableExp "m",
                        VariableExp "graph"
                      ]
                  )
              )
              [ If
                  ( Not
                      ( CallExp
                          ( FunctionCall
                              "in"
                              [ VariableExp "nb",
                                VariableExp "visited"
                              ]
                          )
                      )
                  )
                  [ CallStmt
                      ( FunctionCall
                          "add"
                          [ VariableExp "nb",
                            VariableExp "visited"
                          ]
                      ),
                    CallStmt
                      ( FunctionCall
                          "append"
                          [VariableExp "nb", VariableExp "stack"]
                      )
                  ]
                  Nothing
              ]
          ],
        Return (VariableExp "visited")
      ]
  ]
  Nothing
\end{lstlisting}